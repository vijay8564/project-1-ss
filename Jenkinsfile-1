pipeline{
    agent any
    stages{
        stage('git'){
            steps{
                git 'https://github.com/vijaykumar8564/secretsanta-generator.git'
            }
        }
        stage('SonarQube Analysis') {
         def mvn = tool 'Default Maven';
         steps{
            withSonarQubeEnv() {
          sh "${mvn}/bin/mvn clean verify sonar:sonar -Dsonar.projectKey=secret-santa -Dsonar.projectName='secret-santa'"
          }
         }
         
  }       
    }
}
